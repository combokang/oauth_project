@model MiddleOffice.Entities.Models.Sso.Role
@using MiddleOffice.Entities.ViewModels.Sso

@{ 
    var rolePermissions = (IEnumerable<RolePermissionVM>)ViewBag.RolePermissions;
}
<form>
    @await Html.PartialAsync("_ModalHeader", new ModalHeader() { Heading = "檢視角色" })
    <div class="modal-body form-horizontal">
        <div class="row">
            <div class="col-lg-12">
                <div class="form-group">
                    <label asp-for="Name" class="control-label"></label>
                    <input asp-for="Name" class="form-control" readonly="readonly" />
                </div>
                <div class="form-group">
                    <label asp-for="Description" class="control-label"></label>
                    <input asp-for="Description" class="form-control" readonly="readonly" />
                </div>
                <div class="form-group">
                    <label asp-for="Creator" class="control-label"></label>
                    <input asp-for="Creator" class="form-control" readonly="readonly" />
                </div>
                <div class="form-group">
                    <label asp-for="CreateTime" class="control-label"></label>
                    <input asp-for="CreateTime" asp-format="{0:yyyy/MM/dd HH:mm:ss}" type="text" class="form-control" readonly="readonly" />
                </div>
                <div class="form-group">
                    <label asp-for="Updater" class="control-label"></label>
                    <input asp-for="Updater" class="form-control" readonly="readonly" />
                </div>
                <div class="form-group">
                    <label asp-for="UpdateTime" class="control-label"></label>
                    <input asp-for="UpdateTime" asp-format="{0:yyyy/MM/dd HH:mm:ss}" type="text" class="form-control" readonly="readonly" />
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <table class="table table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <th></th>
                            <th>@(Html.GetDisplayName<RolePermissionVM, string>(x => x.PermissionCandidateKey))</th>
                            <th>@(Html.GetDisplayName<RolePermissionVM, string>(x => x.PermissionName))</th>
                            <th>@(Html.GetDisplayName<RolePermissionVM, string>(x => x.PermissionDescription))</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var rolePermission in rolePermissions)
                        {
                            <tr>
                                <td class="text-center">
                                    @if (rolePermission.Checked)
                                    {
                                        <i class='fas fa-check'></i>
                                    }
                                </td>
                                <td>@rolePermission.PermissionCandidateKey</td>
                                <td>@rolePermission.PermissionName</td>
                                <td>@rolePermission.PermissionDescription</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    @await Html.PartialAsync("_ModalFooter", new ModalFooter() { OnlyCancelButton = true })
</form>